(window.webpackJsonp__wix_thunderbolt_app=window.webpackJsonp__wix_thunderbolt_app||[]).push([[59],{743:function(e,t,n){"use strict";n.r(t),n.d(t,"site",(function(){return v})),n.d(t,"page",(function(){return l}));var r,a=n(0),c=n(7),i=n(25),o=n(277);!function(e){e.SM="SM",e.Pass="PASS",e.NONE="NONE"}(r||(r={}));var u=Object(c.h)([Object(c.f)(i.d,o.a),Object(c.f)(i.f,o.a),Object(c.f)(i.c,o.a)],(function(e,t,n){return{handle:function(c){return Object(a.b)(this,void 0,void 0,(function(){var i,o,u,s,b;return Object(a.d)(this,(function(d){return c.pageJsonFileName?[2,c]:(i=c.pageId,o=n.get(),u=o.pagesMap,s=o.loginAndNavigate,u[i]?[2,Object(a.a)(Object(a.a)({},c),{pageJsonFileName:u[i]})]:((b=function(n){var a=e.pagesSecurity[n];return a&&a.requireLogin?r.SM:t.passwordProtected[n]||a&&a.passwordDigest?r.Pass:r.NONE}(i))===r.NONE&&function(e,t){throw new Error("we do not have authentication info for protected page "+e+" page security: "+t)}(i,e.pagesSecurity[i]),s(c,b),[2,null]))}))}))}}})),s=n(6),b=n(259),d=n(278),p=n(55),f=Object(c.h)([Object(c.f)(i.c,o.a),Object(c.f)(i.d,o.a),s.c,Object(c.g)(b.b),Object(c.g)(d.b),p.f],(function(e,t,n,c,i,o){var u=t.noPermissionsPageUrl,s=function(e){return Object(a.b)(void 0,void 0,void 0,(function(){return Object(a.d)(this,(function(t){switch(t.label){case 0:return i?[4,i.promptPasswordDialog(e)]:[3,2];case 1:return[2,t.sent()];case 2:return[2,{}]}}))}))},b=function(e,t){return Object(a.b)(void 0,void 0,void 0,(function(){return Object(a.d)(this,(function(n){return[2,e===r.SM?Object(a.b)(void 0,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(t){switch(t.label){case 0:return c?[4,c.requestAuthentication({})]:[3,2];case 1:if((e=t.sent()).success)return[2,c.authorizeMemberPagesByToken(e.token)];t.label=2;case 2:return[2,{}]}}))})):s(t)]}))}))},d=function(t,r){return Object(a.b)(void 0,void 0,void 0,(function(){var c,i,s,d;return Object(a.d)(this,(function(p){switch(p.label){case 0:i=t.pageId,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,b(r,i)];case 2:return s=p.sent(),e.update((function(e){return Object(a.a)(Object(a.a)({},e),{pagesMap:Object.assign(e.pagesMap,s)})})),c=s[i]?t.parsedUrl.href:u+'?appSectionParams={"restrictedPageId":"'+i+'"}',[3,4];case 3:return d=p.sent(),o.captureError(d,{tags:{feature:"protectedPage"}}),c=u+'?appSectionParams={"restrictedPageId":"'+i+'"}',[3,4];case 4:return[2,n.navigate(c)]}}))}))};return e.update((function(){return{loginAndNavigate:d,pagesMap:{}}})),{appWillMount:function(){return Object(a.b)(void 0,void 0,void 0,(function(){return Object(a.d)(this,(function(e){return[2]}))}))}}})),O=n(51),g=n(369),j=Object(c.h)([Object(c.f)(i.c,o.a),b.b],(function(e,t){return{getTpaHandlers:function(){var n=this;return{authorizeMemberPages:function(){return Object(a.b)(n,void 0,Promise,(function(){var n;return Object(a.d)(this,(function(r){switch(r.label){case 0:return[4,t.authorizeMemberPagesByCookie()];case 1:return n=r.sent(),e.update((function(e){return Object(a.a)(Object(a.a)({},e),{pagesMap:Object(a.a)(Object(a.a)({},e.pagesMap),n)})})),[2]}}))}))}}}}})),v=function(e){e(s.e.Protected).to(u),e(O.a.AppWillMountHandler).to(f)},l=function(e){e(g.a).to(j)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/protectedPages.19b7101c.chunk.min.js.map