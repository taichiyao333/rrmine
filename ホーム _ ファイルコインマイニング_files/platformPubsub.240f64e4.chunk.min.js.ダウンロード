(window.webpackJsonp__wix_thunderbolt_app=window.webpackJsonp__wix_thunderbolt_app||[]).push([[57],{401:function(n,e,t){"use strict";t.d(e,"b",(function(){return u})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return c}));var r=t(7),i=t(55),s={},u="TPA_PUB_SUB_";function a(n){var e=new RegExp("^"+u);return n.replace(e,"")}var c=Object(r.h)([i.b],(function(n){function e(n,e){var t,r={persistentData:[],listeners:{}};return s[n]?s[n][e]||(s[n][e]=r):s[n]=((t={})[e]=r,t),s[n][e]}function t(n){Object.keys(s).forEach((function(t){Object.keys(s[t]).forEach((function(r){var i=e(t,r);Object.keys(i.listeners).forEach((function(e){n(e)&&delete i.listeners[e]}))}))}))}return{publish:function(n,t,r){var i=a(r.eventKey),s=r.isPersistent,u=e(n,i),c=u.listeners;if(Object.keys(c).forEach((function(n){return c[n].forEach((function(n){return n({data:r.eventData,name:i,origin:t})}))})),s){var o=r.eventData;u.persistentData.push({name:i,data:o})}},subscribe:function(n,t,r,i){var s=a(r.eventKey),u=e(n,s);u.listeners[t]?"worker"===t&&u.listeners[t].push(i):u.listeners[t]=[i],r.isPersistent&&u.persistentData.length&&i({data:u.persistentData[0].data,name:s,origin:t},!0)},unsubscribe:function(n,t,r){delete e(n,a(r)).listeners[t]},handleIframeSubscribe:function(e,t,r){var i=r.eventKey,s=r.isPersistent,u=r.callId;this.subscribe(e,t,{eventKey:i,isPersistent:s},(function(e,r){void 0===r&&(r=!1),function(n,e,t){var r=t.document.getElementById(n);if(r){var i=r.getElementsByTagName("iframe")[0];i&&i.contentWindow&&i.contentWindow.postMessage(JSON.stringify(e),"*")}}(t,r?{intent:"TPA_RESPONSE",callId:u,type:"registerEventListener",res:{drain:!0,data:[e]},status:!0,compId:t}:{eventType:i,intent:"addEventListener",params:e},n)}))},clearListenersBesideStubs:function(){t((function(n){return!n.includes("tpapopup")&&!n.includes("tpaWorker")}))},clearListenersByCompId:function(n){t((function(e){return e===n}))}}}))},402:function(n,e,t){"use strict";t.r(e),t.d(e,"page",(function(){return b}));var r=t(401);t.d(e,"TPA_PUB_SUB_PREFIX",(function(){return r.b})),t.d(e,"stripPubSubPrefix",(function(){return r.c}));var i=t(257);t.d(e,"PlatformPubsubSymbol",(function(){return i.a})),t.d(e,"name",(function(){return i.b}));var s=t(55),u=t(51),a=t(534),c=t(535),o=t(449);for(var f in o)["default","page","PlatformPubsubSymbol","name","TPA_PUB_SUB_PREFIX","stripPubSubPrefix"].indexOf(f)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(f);var b=function(n){n(i.a).to(r.a),n(s.q).to(a.a),n(u.a.PageWillUnmountHandler).to(c.a)}},449:function(n,e){},534:function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));var r=t(7),i=t(257),s=Object(r.h)([i.a],(function(n){return{getSdkHandlers:function(){return{publish:function(e,t,r,i){n.publish(e,"worker",{eventKey:t,isPersistent:i,eventData:r})},subscribe:function(e,t,r,i){n.subscribe(e,"worker",{eventKey:t,isPersistent:i},r)},unsubscribe:function(e,t){n.unsubscribe(e,"worker",t)}}}}}))},535:function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));var r=t(7),i=t(257),s=Object(r.h)([i.a],(function(n){return{pageWillUnmount:function(){n.clearListenersBesideStubs()}}}))}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/platformPubsub.240f64e4.chunk.min.js.map